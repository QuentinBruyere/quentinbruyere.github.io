<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1">
    <meta name="description" content="My CV styled with Glassmorphism and Tilt effect.">
    <title>qb - CV Glassmorphism and Tilt</title>
    <link rel="icon" href="assets/imgs/icons/qb_logo-favicon.png" type="image/x-icon" />
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="profile-page">
        <!-- <div class="profile-card" data-tilt data-tilt-full-page-listening data-tilt-max="5" data-tilt-glare="true" data-tilt-max-glare=".3"> -->
        <div class="profile-card">
            <div class="tiltButton">
                <label class="cont">
                    <input type="checkbox" class="tiltCheckbox">
                    <div class="switch"></div>
                </label>
                <p class="tiltLabel">Tilt</p>
            </div>

            <div class="top-card">
                <img src="assets/imgs/profile-pic-min.png" alt="Photo de profil">
                <h2 class="name">Quentin <span>Bruy√®re</span></h2>
                <h3 class="job">Web Developer - Integrator</h3>
                <div class="place">
                    <img src="assets/imgs/icons/icons8-geography-50.png" alt="Geography">
                    <p class="place-text">Rennes, Britanny, France</p>
                </div>
            </div>
            <div class="languages">
                <h3>Languages - Frameworks - Librairies</h3>
                <div class="languages_known">
                    <h4>Known</h4>
                    <p>HTML/CSS - Javascript - PHP - MySQL - SASS - JQuery</p>
                </div>
                <div class="languages_inLearning">
                    <h4>Learning</h4>
                    <p>React JS, Vue.js, Symfony</p>
                </div>
            </div>
            <div class="social">
                <a class="linkedin" target="_blank" href="https://www.linkedin.com/in/quentin-bruy%C3%A8re-41a099224/" title="Linkedin" data-tilt data-tilt-axis="x" data-tilt-scale="1.1" data-tilt-speed="1000" data-tilt-perspective="200">
                    <img src="assets\imgs\icons\linkedin-60.png" alt="Linkedin"/>
                </a>
                <a class="github" target="_blank" href="https://github.com/QuentinBruyere" title="GitHub" data-tilt data-tilt-axis="x" data-tilt-scale="1.1" data-tilt-speed="1000" data-tilt-perspective="200">
                    <img src="assets\imgs\icons\github.png" alt="GitHub"/>
                </a>
                <a class="cv" target="_blank" href="assets\files\bruyere_quentin_cv.pdf" title="CV" data-tilt data-tilt-axis="x" data-tilt-scale="1.1" data-tilt-speed="1000" data-tilt-perspective="200">
                    <img src="assets\imgs\icons\cv2-64.png" alt="CV"/>
                </a>
                <a class="mail" target="_blank" href="mailto:quentin.bruyere1@gmail.com" title="Mail" data-tilt data-tilt-axis="x" data-tilt-scale="1.1" data-tilt-speed="1000" data-tilt-perspective="200">
                    <img src="assets\imgs\icons\envelope-96.png" alt="Mail"/>
                </a>
            </div>
        </div>
    </div>
    
    <script type="text/javascript" src="assets/js/vanilla-tilt.min.js"></script>    
    <script type="text/javascript">
        addEventListener('DOMContentLoaded', (event) => {

            // BUTTON NEEDED TO ACCESS ON MOBILE
            let tiltButton = document.querySelector(".tiltButton");
            let tiltCheckbox = document.querySelector(".tiltCheckbox");
            let profilPage = document.querySelector(".profile-page");
            let profilCard = document.querySelector(".profile-card");
            let topCard = document.querySelector(".top-card");
            let languages = document.querySelector(".languages");
            let social = document.querySelector(".social");

            var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);

            scalling();

            window.addEventListener("resize", scalling);
            tiltCheckbox.addEventListener("click", tiltSwitch);

            if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){
                // true for mobile device
                profilCard.setAttribute("data-tilt-perspective", "200");
                tiltButton.style.setProperty("transform", "translateZ(12px)");
                topCard.style.setProperty("transform", "translateZ(7px)");
                languages.style.setProperty("transform", "translateZ(12px)");
                social.style.setProperty("transform", "translateZ(7px)");
            }

            function scalling(){
                console.log("page scaled");
                let scale = (window.innerHeight)/956;
                profilPage.style.setProperty("transform", `scale(${scale})`);
            }

            function tiltSwitch(){
                if(tiltCheckbox.checked){
                    profilCard.setAttribute("data-tilt-full-page-listening", "");
                    VanillaTilt.init(profilCard, {
                        max: 5,
                        glare: true,
                        "max-glare": .3,
                    });
                    console.log("checkbox checked");
                    if(isIOS){
                        DeviceMotionEvent.requestPermission();
                    }
                }
                if(!tiltCheckbox.checked){
                    profilCard.vanillaTilt.destroy();
                    console.log("should destroy");
                }
            }
        });
        
    </script>

    <noscript>Javascript is needed for tilt effect</noscript>
    <!-- <script src="assets/js/homemade-tilt.js" type="text/javascript"></script> -->
</body>
</html>